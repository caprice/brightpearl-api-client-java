<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Tue May 27 23:47:04 BST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>BrightpearlLegacyApiSessionFactory (uk.co.visalia.brightpearl:api-client 1.0.0 API)</title>
<meta name="date" content="2014-05-27">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BrightpearlLegacyApiSessionFactory (uk.co.visalia.brightpearl:api-client 1.0.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BrightpearlLegacyApiSessionFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSession.html" title="class in uk.co.visalia.brightpearl.apiclient"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../uk/co/visalia/brightpearl/apiclient/ServiceName.html" title="class in uk.co.visalia.brightpearl.apiclient"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" target="_top">Frames</a></li>
<li><a href="BrightpearlLegacyApiSessionFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">uk.co.visalia.brightpearl.apiclient</div>
<h2 title="Class BrightpearlLegacyApiSessionFactory" class="title">Class BrightpearlLegacyApiSessionFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>uk.co.visalia.brightpearl.apiclient.BrightpearlLegacyApiSessionFactory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">BrightpearlLegacyApiSessionFactory</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block"><p>
 A factory class used to create <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSession.html" title="class in uk.co.visalia.brightpearl.apiclient"><code>BrightpearlLegacyApiSession</code></a>s, which are specific to a Brightpearl account. Sessions
 may optionally be provided with user credentials; if user credentials are provided, automatic re-authentication is
 supported.
 </p><p>
 Each factory instance is specific to a Brightpearl customer account because it requires the account details (datacenter
 and customer code) to create a session instance for that account. At minimum, the factory must be configured with the
 account details by calling <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#setAccount(uk.co.visalia.brightpearl.apiclient.account.Account)"><code>setAccount(Account)</code></a>, and if configured credentials are to be used, <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#setUserCredentials(uk.co.visalia.brightpearl.apiclient.account.UserCredentials)"><code>setUserCredentials(uk.co.visalia.brightpearl.apiclient.account.UserCredentials)</code></a>
 must also be called.
 </p><p>
 Factory instances are intended to be persistent and used to create multiple sessions for an account during the lifetime
 of an application as authentication tokens expire, but when automatic reauth is enabled and sessions are created using
 credentials, one session may last indefinitely. In any case, only one active session for an account should be used at
 any time to avoid unexpected behaviour, for example exceeding the expected connection limit, or hitting the request cap
 despite using a strategy to avoid it. This factory may be wrapped in a facade that caches the active session until
 it expires to provide this behaviour.
 </p><p>
 Instances can be constructed in code, and this class can also be used as a Spring bean factory provided that credentials
 authentication is being used. For example:
 </p>
 <pre>
 &lt;bean id="brightpearlApiSessionFactory" class="uk.co.visalia.brightpearl.apiclient.BrightpearlLegacyApiSessionFactory"&gt;
     &lt;property name="brightpearlApiClient" ref="..."/&gt;
 &lt;/bean&gt;

 &lt;bean id="brightpearlApiSession"
     factory-bean="brightpearlApiSessionFactory"
     factory-method="newApiSession"/&gt;
 </pre>
 <p>
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#BrightpearlLegacyApiSessionFactory()">BrightpearlLegacyApiSessionFactory</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSession.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSession</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#newApiSession()">newApiSession</a></strong>()</code>
<div class="block">
 Creates a new session using configured credentials.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSessionFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#newApiSessionFactory()">newApiSessionFactory</a></strong>()</code>
<div class="block">Creates a new session factory instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSession.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSession</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#newPreauthenticatedApiSession(java.lang.String)">newPreauthenticatedApiSession</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;authToken)</code>
<div class="block">
 Creates a new session pre-authenticated with a token generated independently.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#setAccount(uk.co.visalia.brightpearl.apiclient.account.Account)">setAccount</a></strong>(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/account/Account.html" title="class in uk.co.visalia.brightpearl.apiclient.account">Account</a>&nbsp;account)</code>
<div class="block">Set the target Brightpearl customer account for sessions created by this factory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#setBrightpearlApiClient(uk.co.visalia.brightpearl.apiclient.BrightpearlApiClient)">setBrightpearlApiClient</a></strong>(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlApiClient.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlApiClient</a>&nbsp;brightpearlApiClient)</code>
<div class="block">Set the underlying <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlApiClient.html" title="class in uk.co.visalia.brightpearl.apiclient"><code>BrightpearlApiClient</code></a> that requests are sent to for execution.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#setExpiredAuthTokenStrategy(uk.co.visalia.brightpearl.apiclient.config.ExpiredAuthTokenStrategy)">setExpiredAuthTokenStrategy</a></strong>(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/config/ExpiredAuthTokenStrategy.html" title="enum in uk.co.visalia.brightpearl.apiclient.config">ExpiredAuthTokenStrategy</a>&nbsp;expiredAuthTokenStrategy)</code>
<div class="block">Set the strategy to use when credentials authentication is configured and the current auth token expires.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#setUserCredentials(uk.co.visalia.brightpearl.apiclient.account.UserCredentials)">setUserCredentials</a></strong>(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/account/UserCredentials.html" title="class in uk.co.visalia.brightpearl.apiclient.account">UserCredentials</a>&nbsp;userCredentials)</code>
<div class="block">Set the credentials of an API-enabled user account associated with the customer account.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSessionFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#withAccount(uk.co.visalia.brightpearl.apiclient.account.Account)">withAccount</a></strong>(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/account/Account.html" title="class in uk.co.visalia.brightpearl.apiclient.account">Account</a>&nbsp;account)</code>
<div class="block">Set the target Brightpearl customer account for sessions created by this factory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSessionFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#withBrightpearlApiClient(uk.co.visalia.brightpearl.apiclient.BrightpearlApiClient)">withBrightpearlApiClient</a></strong>(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlApiClient.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlApiClient</a>&nbsp;brightpearlApiClient)</code>
<div class="block">Set the underlying <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlApiClient.html" title="class in uk.co.visalia.brightpearl.apiclient"><code>BrightpearlApiClient</code></a> that requests are sent to for execution.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSessionFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#withExpiredAuthTokenStrategy(uk.co.visalia.brightpearl.apiclient.config.ExpiredAuthTokenStrategy)">withExpiredAuthTokenStrategy</a></strong>(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/config/ExpiredAuthTokenStrategy.html" title="enum in uk.co.visalia.brightpearl.apiclient.config">ExpiredAuthTokenStrategy</a>&nbsp;expiredAuthTokenStrategy)</code>
<div class="block">Set the strategy to use when credentials authentication is configured and the current auth token expires.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSessionFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#withUserCredentials(uk.co.visalia.brightpearl.apiclient.account.UserCredentials)">withUserCredentials</a></strong>(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/account/UserCredentials.html" title="class in uk.co.visalia.brightpearl.apiclient.account">UserCredentials</a>&nbsp;userCredentials)</code>
<div class="block">Set the credentials of an API-enabled user account associated with the customer account.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BrightpearlLegacyApiSessionFactory()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BrightpearlLegacyApiSessionFactory</h4>
<pre>public&nbsp;BrightpearlLegacyApiSessionFactory()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newApiSessionFactory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newApiSessionFactory</h4>
<pre>public static&nbsp;<a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSessionFactory</a>&nbsp;newApiSessionFactory()</pre>
<div class="block">Creates a new session factory instance.</div>
</li>
</ul>
<a name="setBrightpearlApiClient(uk.co.visalia.brightpearl.apiclient.BrightpearlApiClient)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBrightpearlApiClient</h4>
<pre>public&nbsp;void&nbsp;setBrightpearlApiClient(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlApiClient.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlApiClient</a>&nbsp;brightpearlApiClient)</pre>
<div class="block">Set the underlying <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlApiClient.html" title="class in uk.co.visalia.brightpearl.apiclient"><code>BrightpearlApiClient</code></a> that requests are sent to for execution. If this method is not
 called, an instance of the class using all its default settings will be used.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>brightpearlApiClient</code> - custom configured <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlApiClient.html" title="class in uk.co.visalia.brightpearl.apiclient"><code>BrightpearlApiClient</code></a> instance.</dd></dl>
</li>
</ul>
<a name="setAccount(uk.co.visalia.brightpearl.apiclient.account.Account)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAccount</h4>
<pre>public&nbsp;void&nbsp;setAccount(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/account/Account.html" title="class in uk.co.visalia.brightpearl.apiclient.account">Account</a>&nbsp;account)</pre>
<div class="block">Set the target Brightpearl customer account for sessions created by this factory.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>account</code> - target account.</dd></dl>
</li>
</ul>
<a name="setUserCredentials(uk.co.visalia.brightpearl.apiclient.account.UserCredentials)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUserCredentials</h4>
<pre>public&nbsp;void&nbsp;setUserCredentials(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/account/UserCredentials.html" title="class in uk.co.visalia.brightpearl.apiclient.account">UserCredentials</a>&nbsp;userCredentials)</pre>
<div class="block">Set the credentials of an API-enabled user account associated with the customer account. Credentials are not
 required if sessions will be created with tokens generated externally.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>userCredentials</code> - credentials of an API user.</dd></dl>
</li>
</ul>
<a name="setExpiredAuthTokenStrategy(uk.co.visalia.brightpearl.apiclient.config.ExpiredAuthTokenStrategy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExpiredAuthTokenStrategy</h4>
<pre>public&nbsp;void&nbsp;setExpiredAuthTokenStrategy(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/config/ExpiredAuthTokenStrategy.html" title="enum in uk.co.visalia.brightpearl.apiclient.config">ExpiredAuthTokenStrategy</a>&nbsp;expiredAuthTokenStrategy)</pre>
<div class="block">Set the strategy to use when credentials authentication is configured and the current auth token expires.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>expiredAuthTokenStrategy</code> - auth token expiry strategy.</dd></dl>
</li>
</ul>
<a name="withBrightpearlApiClient(uk.co.visalia.brightpearl.apiclient.BrightpearlApiClient)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withBrightpearlApiClient</h4>
<pre>public&nbsp;<a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSessionFactory</a>&nbsp;withBrightpearlApiClient(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlApiClient.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlApiClient</a>&nbsp;brightpearlApiClient)</pre>
<div class="block">Set the underlying <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlApiClient.html" title="class in uk.co.visalia.brightpearl.apiclient"><code>BrightpearlApiClient</code></a> that requests are sent to for execution. If this method is not
 called, an instance of the class using all its default settings will be used.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>brightpearlApiClient</code> - custom configured <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlApiClient.html" title="class in uk.co.visalia.brightpearl.apiclient"><code>BrightpearlApiClient</code></a> instance.</dd>
<dt><span class="strong">Returns:</span></dt><dd>builder instance for method chaining.</dd></dl>
</li>
</ul>
<a name="withAccount(uk.co.visalia.brightpearl.apiclient.account.Account)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withAccount</h4>
<pre>public&nbsp;<a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSessionFactory</a>&nbsp;withAccount(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/account/Account.html" title="class in uk.co.visalia.brightpearl.apiclient.account">Account</a>&nbsp;account)</pre>
<div class="block">Set the target Brightpearl customer account for sessions created by this factory.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>account</code> - target account.</dd>
<dt><span class="strong">Returns:</span></dt><dd>builder instance for method chaining.</dd></dl>
</li>
</ul>
<a name="withUserCredentials(uk.co.visalia.brightpearl.apiclient.account.UserCredentials)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withUserCredentials</h4>
<pre>public&nbsp;<a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSessionFactory</a>&nbsp;withUserCredentials(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/account/UserCredentials.html" title="class in uk.co.visalia.brightpearl.apiclient.account">UserCredentials</a>&nbsp;userCredentials)</pre>
<div class="block">Set the credentials of an API-enabled user account associated with the customer account. Credentials are not
 required if sessions will be created with tokens generated externally.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>userCredentials</code> - credentials of an API user.</dd>
<dt><span class="strong">Returns:</span></dt><dd>builder instance for method chaining.</dd></dl>
</li>
</ul>
<a name="withExpiredAuthTokenStrategy(uk.co.visalia.brightpearl.apiclient.config.ExpiredAuthTokenStrategy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withExpiredAuthTokenStrategy</h4>
<pre>public&nbsp;<a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSessionFactory</a>&nbsp;withExpiredAuthTokenStrategy(<a href="../../../../../uk/co/visalia/brightpearl/apiclient/config/ExpiredAuthTokenStrategy.html" title="enum in uk.co.visalia.brightpearl.apiclient.config">ExpiredAuthTokenStrategy</a>&nbsp;expiredAuthTokenStrategy)</pre>
<div class="block">Set the strategy to use when credentials authentication is configured and the current auth token expires.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>expiredAuthTokenStrategy</code> - auth token expiry strategy.</dd>
<dt><span class="strong">Returns:</span></dt><dd>builder instance for method chaining.</dd></dl>
</li>
</ul>
<a name="newApiSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newApiSession</h4>
<pre>public&nbsp;<a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSession.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSession</a>&nbsp;newApiSession()</pre>
<div class="block"><p>
 Creates a new session using configured credentials. An auth token will be generated either when <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSession.html#authenticate()"><code>BrightpearlLegacyApiSession.authenticate()</code></a>
 is called, or when the first request is made.
 </p><p>
 Automatic re-authentication is disabled by default and may be enabled by calling
 <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#setExpiredAuthTokenStrategy(uk.co.visalia.brightpearl.apiclient.config.ExpiredAuthTokenStrategy)"><code>setExpiredAuthTokenStrategy(ExpiredAuthTokenStrategy)</code></a> with <a href="../../../../../uk/co/visalia/brightpearl/apiclient/config/ExpiredAuthTokenStrategy.html#REAUTHENTICATE"><code>ExpiredAuthTokenStrategy.REAUTHENTICATE</code></a>.
 With this configuration, the session will detect authentication failures and make one attempt at re-authenticating
 with the same credentials before retrying the request that failed. Unless the API user's password is changed, which
 will prevent re-authentication, this allows one ApiSession instance to last indefinitely.
 </p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a configured and immutable <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSession.html" title="class in uk.co.visalia.brightpearl.apiclient"><code>BrightpearlLegacyApiSession</code></a>.</dd></dl>
</li>
</ul>
<a name="newPreauthenticatedApiSession(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>newPreauthenticatedApiSession</h4>
<pre>public&nbsp;<a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSession.html" title="class in uk.co.visalia.brightpearl.apiclient">BrightpearlLegacyApiSession</a>&nbsp;newPreauthenticatedApiSession(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;authToken)</pre>
<div class="block"><p>
 Creates a new session pre-authenticated with a token generated independently.
 </p><p>
 If credentials have been supplied and automatic re-authentication has been enabled by calling <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html#setExpiredAuthTokenStrategy(uk.co.visalia.brightpearl.apiclient.config.ExpiredAuthTokenStrategy)"><code>setExpiredAuthTokenStrategy(ExpiredAuthTokenStrategy)</code></a> with <a href="../../../../../uk/co/visalia/brightpearl/apiclient/config/ExpiredAuthTokenStrategy.html#REAUTHENTICATE"><code>ExpiredAuthTokenStrategy.REAUTHENTICATE</code></a>,
 a new token can be generated when the provided one expires. With this configuration, the session will detect
 authentication failures and make one attempt at re-authenticating with the same credentials before retrying the
 request that failed. Unless the API user's password is changed, which will prevent re-authentication, this allows
 one ApiSession instance to last indefinitely.
 </p><p>
 If no credentials are supplied or the strategy is set to <a href="../../../../../uk/co/visalia/brightpearl/apiclient/config/ExpiredAuthTokenStrategy.html#FAIL"><code>ExpiredAuthTokenStrategy.FAIL</code></a>, the session will last until the
 first time a request is rejected because the token has expired, which occurs after an undefined period of inactivity.
 </p><p>
 This method allows you to manually provide an auth token for a single use session, or prime a new long-lived session
 with a stored token - useful for Android where keeping a session instance alive may be undesirable. Avoid priming
 a new session with a token that has not been used for 30 minutes, because the first request is guaranteed to fail.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>authToken</code> - the initial auth token to be used for this session.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an <a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSession.html" title="class in uk.co.visalia.brightpearl.apiclient"><code>BrightpearlLegacyApiSession</code></a> instance.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BrightpearlLegacyApiSessionFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSession.html" title="class in uk.co.visalia.brightpearl.apiclient"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../uk/co/visalia/brightpearl/apiclient/ServiceName.html" title="class in uk.co.visalia.brightpearl.apiclient"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?uk/co/visalia/brightpearl/apiclient/BrightpearlLegacyApiSessionFactory.html" target="_top">Frames</a></li>
<li><a href="BrightpearlLegacyApiSessionFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014. All Rights Reserved.</small></p>
</body>
</html>
